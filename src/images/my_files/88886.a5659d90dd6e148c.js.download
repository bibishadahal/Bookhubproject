"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[88886],{73915:function(e,t,n){n.d(t,{e:function(){return i}});var r=n(26042),s=n(11987),i=function(e){var t=e.urlParams,n=e.queryParams,i="/bundle/".concat((void 0===t?{}:t).filename),a=(0,r.Z)({},void 0===n?{}:n);return{url:i,defaultParams:a,formattedUrl:(0,s.format)({pathname:i,query:a})}}},71578:function(e,t,n){n.d(t,{Oo:function(){return V},rB:function(){return S}});var r,s,i,a,o=n(47568),c=n(26042),u=n(70655),l=n(85672),d=n(82475),f=n(24899),m=n(70056),v=n(42149),p=n(48588),_=n(19576),h=n(75957),y=n(14587),b=n(29824),w=n(28741),g=n(72957),z=n(27725),A=n(95624),S=function(e){var t,n,r=e.asset;return(null==r?void 0:null===(t=r.metadata)||void 0===t?void 0:null===(n=t.cart)||void 0===n?void 0:n.sizes)||r.sizes},N=(r=(0,o.Z)(function(e){var t,n,r,s;return(0,u.__generator)(this,function(i){switch(i.label){case 0:if(!((null==(t=e.asset)?void 0:null===(n=t.metadata)||void 0===n?void 0:n.cart)&&!t.metadata.cart.sizes))return[3,2];return r=(0,g.so)(t),s={id:t.id},r&&(s.channel=v.$S,s.content_provider=p._e),[4,h.uS.get((0,l.om)({queryParams:s}).formattedUrl).then(function(e){var t=e.data;return(0,y.O)(t)})];case 1:return[2,i.sent().sizes];case 2:return[2,S({asset:t})]}})}),function(e){return r.apply(this,arguments)}),C=function(e){var t,n,r,s,i,a=e.selectedAssetSize,o=e.asset,c=S({asset:o}),u=(0,g.EK)(o);if(!c&&(null==o?void 0:null===(t=o.metadata)||void 0===t?void 0:null===(n=t.cart)||void 0===n?void 0:n.size)&&o.metadata.cart.format)return{content_size:u?f.vD:o.metadata.cart.size,content_format:o.metadata.cart.format};var l=Object.values(c);return i=o.licenseAsJpeg||(null===(r=o.metadata)||void 0===r?void 0:null===(s=r.cart)||void 0===s?void 0:s.licenseAsJpeg)?l.find(function(e){return e.format===d._3}):z.Bg[a]?(0,w.AR)({sizes:l,compSizeImage:a}):(0,w.Nf)(l),{content_size:u?f.vD:z.nd[(0,b.z)(i.name)].downloadName,content_format:i.format}},Z=function(e){var t=e.map[e.licenseName];return t===f.T0?f.qY:t},k=function(e){var t=e.asset,n=e.licenseName,r=e.isVideoComp,s=e.selectedAssetSize,i=e.sizes,a=(0,g.EK)(t),o=(0,g.cL)(t),c=(0,g.$Q)({sizes:Object.values(i)});return!r&&c?Z({map:z.Q1,licenseName:n}):r||n===_.f12||a||o?!s||a||o?(0,w.mF)(i):z.kR[s]:Z({map:z.kR,licenseName:n})},U=(s=(0,o.Z)(function(e){var t,n,r,s,i,a,o,c;return(0,u.__generator)(this,function(u){switch(u.label){case 0:return t=e.asset,n=e.licenseName,r=e.isVideoComp,s=e.selectedAssetSize,[4,N({asset:t})];case 1:return a=k({asset:t,licenseName:n,isVideoComp:r,selectedAssetSize:s,sizes:i=u.sent()}),o=(0,g.EK)(t),c=Object.values(i).find(function(e){var t=e.resolution;return z.wb[null==t?void 0:t.toLowerCase()]===a}),[2,{content_size:o?f.vD:a,content_format:null==c?void 0:c.format}]}})}),function(e){return s.apply(this,arguments)}),q=function(e){var t,n=e.format;switch(e.selectedAssetSize){case"stereo":t=f.cs;break;case"5.1":t=f.gp;break;default:t=f.yy}return{content_size:t,content_format:n===d.iH?d.iH:d._Y}},P=(i=(0,o.Z)(function(e){var t,n,r,s,i,a;return(0,u.__generator)(this,function(o){switch(o.label){case 0:switch(t=e.asset,n=e.licenseName,r=e.isVideoComp,s=e.selectedAssetSize,i=e.format,a=(0,A.qw)({asset:t}),(0,g.so)(t)&&(a=m.A7),a){case m.pX:case m.A7:return[3,1];case m.j0:return[3,3];case m.tn:return[3,4]}return[3,5];case 1:return[4,U({asset:t,licenseName:n,isVideoComp:r,selectedAssetSize:s})];case 2:return[2,o.sent()];case 3:return[2,{content_size:f.Ng,content_format:m.j0}];case 4:return[2,q({selectedAssetSize:s,format:i})];case 5:return[2,C({selectedAssetSize:s,asset:t})];case 6:return[2]}})}),function(e){return i.apply(this,arguments)}),V=(a=(0,o.Z)(function(e){var t,n,r,s,i,a,o,l;return(0,u.__generator)(this,function(u){switch(u.label){case 0:return t=e.licenseName,n=e.selectedAssetSize,r=e.asset,s=e.isVideoComp,i=e.format,a=(0,A.qw)({asset:r}),l=[{content_id:o=r.id.toString(),content_type:(0,A.JD)({assetType:a,assetId:o})}],[4,P({asset:r,licenseName:t,isVideoComp:s,selectedAssetSize:n,format:i})];case 1:return[2,c.Z.apply(void 0,l.concat([u.sent()]))]}})}),function(e){return a.apply(this,arguments)})},88886:function(e,t,n){n.d(t,{P:function(){return o}});var r=n(67294),s=n(26430),i=n(71394),a=n(87266),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.asset,n=e.query,o=e.shouldSetLocalStorage,c=void 0!==o&&o,u=(0,a.cM)(n);return(0,r.useCallback)(function(){s.j&&(c&&(0,i.oe)(t),window.location.href=u)},[u,t,c])}},71394:function(e,t,n){n.d(t,{A_:function(){return z},QH:function(){return N},VM:function(){return Z},Zc:function(){return U},mJ:function(){return S},oe:function(){return k},uG:function(){return A}});var r,s,i,a=n(47568),o=n(26042),c=n(69396),u=n(36305),l=n(70655),d=n(73915),f=n(85672),m=n(70056),v=n(42149),p=n(19576),_=n(71578),h=n(28741),y=n(72957),b=n(35772),w=n(75957),g=n(58940),z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=t.target,s=document.createElement("a");s.setAttribute("data-automation","FeatureDownload_utils_link"),s.style.display="none",s.href=e,s.target=void 0===r?"_self":r,s.download=n||e,document.body.appendChild(s),s.click(),(0,g.bK)()||document.body.removeChild(s)},A=(r=(0,a.Z)(function(e){var t,n;return(0,l.__generator)(this,function(r){switch(r.label){case 0:return t=e.downloadBundlePayload,n=(0,d.e)({urlParams:{filename:t.bundleFilename}}).formattedUrl,[4,w.jl.post(n,t.content)];case 1:return[2,r.sent().data.public_url]}})}),function(e){return r.apply(this,arguments)}),S=function(e){var t=e.licensedContent,n=e.supplementalUrlType,r=t[0],s=r.downloadUrl,i=r.supplementalUrls;if((null==i?void 0:i.length)&&n){var a=(i.find(function(e){return e.type===n})||{}).url;return void 0===a?s:a}return s},N=(s=(0,a.Z)(function(e){var t,n,r,s,i;return(0,l.__generator)(this,function(a){switch(a.label){case 0:return t=e.downloadPayload,n=e.supplementalUrlType,r=e.licenseeIdentifier,s=(0,f.f$)({urlParams:{licenseeIdentifier:r}}).formattedUrl,[4,w.uS.post(s,t)];case 1:return[2,{downloadUrl:S({licensedContent:i=a.sent().data.meta.licensedContent,supplementalUrlType:n}),licensedContent:i}]}})}),function(e){return s.apply(this,arguments)}),C=function(e){var t=e.existingAssetLicenses,n=e.contentType,r=e.licenseName,s=e.subscriptions;switch(n){case m.pX:var i,a,o=(0,b.I)({existingAssetLicenses:t,subscriptions:(0,u.Z)(null!==(i=null==s?void 0:s.videoSubscriptions)&&void 0!==i?i:[]).concat((0,u.Z)(null!==(a=null==s?void 0:s.videoCompSubscriptions)&&void 0!==a?a:[])),licenseName:r});return(null==o?void 0:o.redeemableFor)||r;case m.j0:return r||p.zUW;case m.tn:return r||p.i9D;case m.pV:default:return r}},Z=(i=(0,a.Z)(function(e){var t,n,r,s,i;return(0,l.__generator)(this,function(u){switch(u.label){case 0:var d;return t=e.assets,n=e.existingAssetLicenses,r=e.format,s=e.selectedAssetSize,i=e.subscriptions,[4,Promise.all(t.map((d=(0,a.Z)(function(e){var t,a;return(0,l.__generator)(this,function(u){switch(u.label){case 0:return t=(0,h.SS)({asset:e}),[4,(0,_.Oo)({asset:e,licenseName:e.licenseId,selectedAssetSize:s})];case 1:return a=u.sent(),[2,(0,c.Z)((0,o.Z)({},a,t===m.tn&&{override_filename:"".concat(v.Oq,"_").concat(e.id,".").concat(r||a.content_format)}),{license_name:C({existingAssetLicenses:n,contentType:t,licenseName:e.licenseId,subscriptions:i}),show_modal:!0})]}})}),function(e){return d.apply(this,arguments)})))];case 1:return[2,{required_cookies:"",content:u.sent()}]}})}),function(e){return i.apply(this,arguments)}),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&e.id&&(e.title||e.description)&&e.type&&window.localStorage.setItem("sstk_ent_asset_preview",JSON.stringify({id:e.id,title:e.title||e.description,thumb:e.src||e.previewImageUrl||"",video:e.previewVideoUrls,url:e.link,type:(0,y.Tp)(e),isRex:e.isRexEditorial}))},U=function(e){var t;return requestAnimationFrame?function(){for(var n=arguments.length,r=Array(n),s=0;s<n;s++)r[s]=arguments[s];t&&cancelAnimationFrame(t),t=requestAnimationFrame(function(){e.apply(void 0,(0,u.Z)(r))})}:e}}}]);
//# sourceMappingURL=88886.a5659d90dd6e148c.js.map